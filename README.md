# CUC-ACM Score-Analysis

## 比赛出题人须知

- 比赛时间 **准确设置** 为对于比赛 **当天** 的时间，不要先随便设置一个时间到后面再改
- 比赛名称需要按照特定的 **前缀统一命名**，如 `CUC-ACM-2023秋季学期新生练习xx-xx`

```
CUC-ACM-2023秋季学期新生练习10.18
CUC-ACM-2023秋季学期新生练习10.25
```

- 将此 **前缀名称** `CUC-ACM-2023秋季学期新生练习` 填入 [config.yaml](./config.yaml) 中的 `title_prefix` 字段中

### Vjudge

- 比赛不要设置密码

### Nowcoder（牛客）

## 积分排名计算方法

### 积分计算方法

> 对于每一场比赛，我们都会计算一次积分，积分计算方法如下：

$$
\text{score} = \text{min}(100, 比赛期间得分 + 比赛后补题分)
$$

#### 比赛期间得分

> 此排名以在对于平台 _比赛结束时_ 的排名为准

|  排名区间  | 得分  |
| :--------: | :---: |
|  $(0,20]$  | $100$ |
| $(20,40]$  | $90$  |
| $(40,60]$  | $80$  |
| $(60,80]$  | $70$  |
| $(80,100]$ | $60$  |

#### 比赛后补题分

> 比赛后补题分截止以 `比赛结束` 开始计算的 7 天内。
>
> 例如比赛结束时间为 `18:00` ，则补题分截止时间为 `18:00 + 7天`

$$
比赛后补题分 = `补题数`\times 6，所以在所有情况下
$$

## 后期维护人员须知

### `VJUDGE_COOKIE` 环境变量

> 在下面情况下需要设置 `VJUDGE_COOKIE` 环境变量

- 调用 `acmana/crawler/vjudge/user_info.py` 中爬取 `Vjudge 用户 ID`
- `Github Actions` 中的 `CICD` `unittest`（需在 `Github` 中设置 `Secrets`）

### `NOWCODER_COOKIE` 环境变量

> 由于牛客对于 `非管理员用户` 只能看到比赛的前 10 页提交，无法查看到所有提交来统计 `补题数`，所以在所有情况下都需要设置 `NOWCODER_COOKIE` 环境变量

#### 设置方法

> 首先需要将 `爬虫使用的账户` 加入到 `牛客比赛` 的 `管理员` 中
>
> 加入方法详情见 https://docs.qq.com/doc/DTHlmT1FDSWRJcmVo
>
> 省流：使用 `比赛创建者的账号` 点击 https://ac.nowcoder.com/acm/admin/self/rejudge?contestId=67703
>
> 将上述链接中的 `contestId` 改为对应比赛的 `contestId` 即可
